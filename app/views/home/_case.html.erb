<div class="card shadow mb-4" style="min-width: 35%;">
  <div class="card-body text-center">
    <h5><%= _case.case_type.titleize %>: <%= _case.short_description %></h5>
    <p>Total Claim Value: <%= number_to_currency(_case.claim_sum, unit: "$", precision: 0) %></p>
    <p>Investor Share: <%= _case.investor_payout || 0  %>%</p>
    <p>Percentage Funds Raised: </p>
    <% @percentage_data = { "Funds" => (_case.total_funds.to_f / _case.claim_sum.to_f) * 100, "" => 100 - (_case.total_funds.to_f / _case.claim_sum.to_f), } %>
    <%= pie_chart @percentage_data, donut: true, legend: false %>
    <p>Price per Share: <%= number_to_currency(_case.investor_payout || 0, unit: "$", precision: 0) %> </p>
    <div class="d-flex flex-row justify-content-center">
      <div class="w-25 mx-1">
        <div class="progress h-100 position-relative">
          <div class="progress-bar bg-purple" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: <%= calculate_percentage_by_status(_case.case_status) %>%;">
          <span class="title position-absolute text-dark font-weight-bold" style="left: 0; right: 0"><%= _case.case_status.titleize %></span>
          </div>
        </div>
      </div>
      <button class="btn btn-secondary mx-1 bg-dark-blue"><span class="small">Risk: <%= format_risk(_case&.risk_level) %></span></button>
      <button class="btn btn-secondary mx-1 bg-dark-primary"><span class="small">Duration: <%= format_duration(_case.case_duration) %></span></button>
    </div>
  </div>
</div>